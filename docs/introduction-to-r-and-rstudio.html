<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 1 Introduction to R and RStudio | PHCM9795 Foundations of Biostatistics</title>
  <meta name="description" content="Module 1 Introduction to R and RStudio | PHCM9795 Foundations of Biostatistics" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 1 Introduction to R and RStudio | PHCM9795 Foundations of Biostatistics" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 1 Introduction to R and RStudio | PHCM9795 Foundations of Biostatistics" />
  
  
  

<meta name="author" content="Pilot Notes for R" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="probability-and-probability-distributions-r-notes.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">PHCM9795 Foundations of Biostatistics</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html"><i class="fa fa-check"></i><b>1</b> Introduction to R and RStudio</a>
<ul>
<li class="chapter" data-level="" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#learning-outcomes"><i class="fa fa-check"></i>Learning outcomes</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#part-1-an-introduction-to-r"><i class="fa fa-check"></i>Part 1: An introduction to R</a></li>
<li class="chapter" data-level="1.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#r-vs-rstudio"><i class="fa fa-check"></i><b>1.1</b> R vs RStudio</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#installing-r-and-rsudio"><i class="fa fa-check"></i><b>1.2</b> Installing R and RSudio</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#simpleR"><i class="fa fa-check"></i><b>1.3</b> A simple R analysis</a></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#the-rstudio-environment"><i class="fa fa-check"></i><b>1.4</b> The RStudio environment</a></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#some-r-basics"><i class="fa fa-check"></i><b>1.5</b> Some R basics</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#part-2-obtaining-basic-descriptive-statistics"><i class="fa fa-check"></i>Part 2: Obtaining basic descriptive statistics</a></li>
<li class="chapter" data-level="1.6" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#defining-categorical-variables-as-factors"><i class="fa fa-check"></i><b>1.6</b> Defining categorical variables as factors</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#part-3-creating-other-types-of-graphs"><i class="fa fa-check"></i>Part 3: Creating other types of graphs</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="probability-and-probability-distributions-r-notes.html"><a href="probability-and-probability-distributions-r-notes.html"><i class="fa fa-check"></i><b>2</b> Probability and probability distributions: R notes</a>
<ul>
<li class="chapter" data-level="2.1" data-path="probability-and-probability-distributions-r-notes.html"><a href="probability-and-probability-distributions-r-notes.html#importing-data-into-stata"><i class="fa fa-check"></i><b>2.1</b> Importing data into Stata</a></li>
<li class="chapter" data-level="2.2" data-path="probability-and-probability-distributions-r-notes.html"><a href="probability-and-probability-distributions-r-notes.html#checking-your-data-for-errors-in-stata"><i class="fa fa-check"></i><b>2.2</b> Checking your data for errors in Stata</a></li>
<li class="chapter" data-level="2.3" data-path="probability-and-probability-distributions-r-notes.html"><a href="probability-and-probability-distributions-r-notes.html#overlaying-a-normal-curve-on-a-histogram"><i class="fa fa-check"></i><b>2.3</b> Overlaying a Normal curve on a histogram</a></li>
<li class="chapter" data-level="2.4" data-path="probability-and-probability-distributions-r-notes.html"><a href="probability-and-probability-distributions-r-notes.html#ggplot2"><i class="fa fa-check"></i><b>2.4</b> ggplot2</a></li>
<li class="chapter" data-level="2.5" data-path="probability-and-probability-distributions-r-notes.html"><a href="probability-and-probability-distributions-r-notes.html#descriptive-statistics-for-checking-normality"><i class="fa fa-check"></i><b>2.5</b> Descriptive statistics for checking normality</a></li>
<li class="chapter" data-level="2.6" data-path="probability-and-probability-distributions-r-notes.html"><a href="probability-and-probability-distributions-r-notes.html#import-excel"><i class="fa fa-check"></i><b>2.6</b> Importing Excel data into Stata</a></li>
<li class="chapter" data-level="2.7" data-path="probability-and-probability-distributions-r-notes.html"><a href="probability-and-probability-distributions-r-notes.html#generating-new-variables"><i class="fa fa-check"></i><b>2.7</b> Generating new variables</a></li>
<li class="chapter" data-level="2.8" data-path="probability-and-probability-distributions-r-notes.html"><a href="probability-and-probability-distributions-r-notes.html#summarising-data-by-another-variable"><i class="fa fa-check"></i><b>2.8</b> Summarising data by another variable</a></li>
<li class="chapter" data-level="2.9" data-path="probability-and-probability-distributions-r-notes.html"><a href="probability-and-probability-distributions-r-notes.html#recoding-data"><i class="fa fa-check"></i><b>2.9</b> Recoding data</a></li>
<li class="chapter" data-level="2.10" data-path="probability-and-probability-distributions-r-notes.html"><a href="probability-and-probability-distributions-r-notes.html#computing-binomial-probabilities-using-r"><i class="fa fa-check"></i><b>2.10</b> Computing binomial probabilities using R</a></li>
<li class="chapter" data-level="2.11" data-path="probability-and-probability-distributions-r-notes.html"><a href="probability-and-probability-distributions-r-notes.html#computing-probabilities-from-a-normal-distribution"><i class="fa fa-check"></i><b>2.11</b> Computing probabilities from a Normal distribution</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="precision-r-notes.html"><a href="precision-r-notes.html"><i class="fa fa-check"></i><b>3</b> Precision: R notes</a>
<ul>
<li class="chapter" data-level="3.1" data-path="precision-r-notes.html"><a href="precision-r-notes.html#calculating-a-95-confidence-interval-of-a-mean"><i class="fa fa-check"></i><b>3.1</b> Calculating a 95% confidence interval of a mean</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html"><i class="fa fa-check"></i><b>4</b> Hypothesis testing</a>
<ul>
<li class="chapter" data-level="4.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#one-sample-t-test"><i class="fa fa-check"></i><b>4.1</b> One sample t-test</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="comparing-two-means.html"><a href="comparing-two-means.html"><i class="fa fa-check"></i><b>5</b> Comparing two means</a>
<ul>
<li class="chapter" data-level="5.1" data-path="comparing-two-means.html"><a href="comparing-two-means.html#checking-data-for-the-independent-samples-t-test"><i class="fa fa-check"></i><b>5.1</b> Checking data for the independent samples t-test</a></li>
<li class="chapter" data-level="5.2" data-path="comparing-two-means.html"><a href="comparing-two-means.html#independent-samples-t-test"><i class="fa fa-check"></i><b>5.2</b> Independent samples t-test</a></li>
<li class="chapter" data-level="5.3" data-path="comparing-two-means.html"><a href="comparing-two-means.html#checking-the-assumptions-for-a-paired-t-test"><i class="fa fa-check"></i><b>5.3</b> Checking the assumptions for a Paired t-test</a></li>
<li class="chapter" data-level="5.4" data-path="comparing-two-means.html"><a href="comparing-two-means.html#paired-t-test"><i class="fa fa-check"></i><b>5.4</b> Paired t-Test</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="proportions.html"><a href="proportions.html"><i class="fa fa-check"></i><b>6</b> Proportions</a>
<ul>
<li class="chapter" data-level="6.1" data-path="proportions.html"><a href="proportions.html#confidence-intervals-for-proportions"><i class="fa fa-check"></i><b>6.1</b> 95% confidence intervals for proportions</a></li>
<li class="chapter" data-level="6.2" data-path="proportions.html"><a href="proportions.html#significance-test-for-single-proportion"><i class="fa fa-check"></i><b>6.2</b> Significance test for single proportion</a></li>
<li class="chapter" data-level="6.3" data-path="proportions.html"><a href="proportions.html#computing-a-relative-risk-and-its-95-confidence-interval"><i class="fa fa-check"></i><b>6.3</b> Computing a relative risk and its 95% confidence interval</a></li>
<li class="chapter" data-level="6.4" data-path="proportions.html"><a href="proportions.html#computing-an-odds-ratio-and-its-95ci"><i class="fa fa-check"></i><b>6.4</b> Computing an odds ratio and its 95%CI</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="testing-proportions.html"><a href="testing-proportions.html"><i class="fa fa-check"></i><b>7</b> Testing proportions</a>
<ul>
<li class="chapter" data-level="7.1" data-path="testing-proportions.html"><a href="testing-proportions.html#pearsons-chi-squared-test"><i class="fa fa-check"></i><b>7.1</b> Pearson’s chi-squared test</a></li>
<li class="chapter" data-level="7.2" data-path="testing-proportions.html"><a href="testing-proportions.html#chi-squared-test-for-tables-larger-than-2-by-2"><i class="fa fa-check"></i><b>7.2</b> Chi-squared test for tables larger than 2-by-2</a></li>
<li class="chapter" data-level="7.3" data-path="testing-proportions.html"><a href="testing-proportions.html#mcnemars-test-for-paired-proportions"><i class="fa fa-check"></i><b>7.3</b> McNemar’s test for paired proportions</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="correlation-and-simple-linear-regression.html"><a href="correlation-and-simple-linear-regression.html"><i class="fa fa-check"></i><b>8</b> Correlation and simple linear regression</a>
<ul>
<li class="chapter" data-level="8.1" data-path="correlation-and-simple-linear-regression.html"><a href="correlation-and-simple-linear-regression.html#creating-a-scatter-plot"><i class="fa fa-check"></i><b>8.1</b> Creating a scatter plot</a></li>
<li class="chapter" data-level="8.2" data-path="correlation-and-simple-linear-regression.html"><a href="correlation-and-simple-linear-regression.html#calculating-a-correlation-coefficient"><i class="fa fa-check"></i><b>8.2</b> Calculating a correlation coefficient</a></li>
<li class="chapter" data-level="8.3" data-path="correlation-and-simple-linear-regression.html"><a href="correlation-and-simple-linear-regression.html#fitting-a-simple-linear-regression-model"><i class="fa fa-check"></i><b>8.3</b> Fitting a simple linear regression model</a></li>
<li class="chapter" data-level="8.4" data-path="correlation-and-simple-linear-regression.html"><a href="correlation-and-simple-linear-regression.html#plotting-residuals-from-a-simple-linear-regression"><i class="fa fa-check"></i><b>8.4</b> Plotting residuals from a simple linear regression</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html"><i class="fa fa-check"></i><b>9</b> Analysing non-normal data</a>
<ul>
<li class="chapter" data-level="9.1" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#transforming-non-normally-distributed-variables"><i class="fa fa-check"></i><b>9.1</b> Transforming non-normally distributed variables</a></li>
<li class="chapter" data-level="9.2" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#wilcoxon-ranked-sum-test"><i class="fa fa-check"></i><b>9.2</b> Wilcoxon ranked-sum test</a></li>
<li class="chapter" data-level="9.3" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#wilcoxon-matched-pairs-signed-rank-test"><i class="fa fa-check"></i><b>9.3</b> Wilcoxon matched-pairs signed-rank test</a></li>
<li class="chapter" data-level="9.4" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#estimating-rank-correlation-coefficients"><i class="fa fa-check"></i><b>9.4</b> Estimating rank correlation coefficients</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="sample-size.html"><a href="sample-size.html"><i class="fa fa-check"></i><b>10</b> Sample size</a>
<ul>
<li class="chapter" data-level="10.1" data-path="sample-size.html"><a href="sample-size.html#sample-size-calculation-for-two-independent-samples-t-test"><i class="fa fa-check"></i><b>10.1</b> Sample size calculation for two independent samples t-test</a></li>
<li class="chapter" data-level="10.2" data-path="sample-size.html"><a href="sample-size.html#sample-size-calculation-for-difference-between-two-independent-proportions"><i class="fa fa-check"></i><b>10.2</b> Sample size calculation for difference between two independent proportions</a></li>
<li class="chapter" data-level="10.3" data-path="sample-size.html"><a href="sample-size.html#sample-size-calculation-with-a-relative-risk"><i class="fa fa-check"></i><b>10.3</b> Sample size calculation with a relative risk</a></li>
<li class="chapter" data-level="10.4" data-path="sample-size.html"><a href="sample-size.html#sample-size-calculation-with-an-odds-ratio"><i class="fa fa-check"></i><b>10.4</b> Sample size calculation with an odds ratio</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PHCM9795 Foundations of Biostatistics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-r-and-rstudio" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">Module 1</span> Introduction to R and RStudio<a href="introduction-to-r-and-rstudio.html#introduction-to-r-and-rstudio" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>INCLUDE:</p>
<ul>
<li><p><a href="https://ubco-biology.github.io/BIOL202/" class="uri">https://ubco-biology.github.io/BIOL202/</a></p></li>
<li><p><a href="https://r4stats.com/articles/why-r-is-hard-to-learn/" class="uri">https://r4stats.com/articles/why-r-is-hard-to-learn/</a></p></li>
<li><p>decide on skim vs summary vs jmv::describe</p></li>
<li><p>how to get help (online, google, etc)</p></li>
<li><p>don’t give up!</p></li>
<li><p>tidyverse?</p></li>
</ul>
<div id="learning-outcomes" class="section level2 unnumbered hasAnchor">
<h2>Learning outcomes<a href="introduction-to-r-and-rstudio.html#learning-outcomes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>By the end of this Module, you will be able to:</p>
<ul>
<li>understand the difference between R and RStudio</li>
<li>navigate the RStudio interface</li>
<li>input and import data into R</li>
<li>use R to summarise data</li>
<li>perform basic data transformations</li>
<li>understand the difference between saving R data and saving R output</li>
<li>copy R output to a standard word processing package</li>
</ul>
</div>
<div id="part-1-an-introduction-to-r" class="section level2 unnumbered hasAnchor">
<h2>Part 1: An introduction to R<a href="introduction-to-r-and-rstudio.html#part-1-an-introduction-to-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>“R is a language and environment for statistical computing and graphics.” <a href="https://www.r-project.org/about.html">Link</a>. It is an open-source programming language, used mainly for statistics (including biostatistics) and data science.</p>
<p>The aim of these notes is to introduce the R language within the RStudio environment, and to introduce the commands and procedures that are directly relevant to this course. There is so much more to R than we can cover in these notes. Relevant information will be provided throughout the course, and we will provide further references that you can explore if you are interested.</p>
</div>
<div id="r-vs-rstudio" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> R vs RStudio<a href="introduction-to-r-and-rstudio.html#r-vs-rstudio" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>At its heart, R is a programming language. When you install R on your computer, you are installing the language and its resources, as well as a very basic interface for using R. You can write and run R code using the basic R app, but we don’t recommend it.</p>
<p>RStudio is an “Integrated Development Environment” that runs R while also providing useful tools to help you as you’re writing code and analysing data. You can think of R as an engine which does the work, and RStudio as a car that uses the engine, but also provides useful tools to help you drive.</p>
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">R: Don’t use this</th>
<th align="center">RStudio: Use this instead</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><img src="img/Rlogo.png" alt="R logo" style="height: 100px;"/></td>
<td align="center"><img src="img/RStudio-Logo-Flat.png" alt="RStudio logo" style="height: 100px;"/></td>
</tr>
</tbody>
</table>
</div>
<div id="installing-r-and-rsudio" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> Installing R and RSudio<a href="introduction-to-r-and-rstudio.html#installing-r-and-rsudio" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="to-install-r-on-your-computer" class="section level3 hasAnchor" number="1.2.1">
<h3><span class="header-section-number">1.2.1</span> To install R on your computer<a href="introduction-to-r-and-rstudio.html#to-install-r-on-your-computer" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>Download the R installer from:
<ol style="list-style-type: lower-alpha">
<li>for Windows: <a href="https://cran.r-project.org/bin/windows/base/" class="uri">https://cran.r-project.org/bin/windows/base/</a></li>
<li>for MacOS: <a href="https://cran.r-project.org/bin/macosx/" class="uri">https://cran.r-project.org/bin/macosx/</a></li>
</ol></li>
<li>Install R by running the installer and following the installation instructions. The default settings are fine.
<ul>
<li><strong>Note for macOS:</strong> if you are running macOS 10.8 or later, you will need to install an additional application called XQuartz, which is available at <a href="https://www.xquartz.org/" class="uri">https://www.xquartz.org/</a>. Download the latest installer (XQuartz-2.8.1.dmg as of April 2022), and install it in the usual way.</li>
</ul></li>
<li>Open the R program. You should see a screen as below:</li>
</ol>
<p><img src="img/R-screenshot.png" width="80%" /></p>
<p>Near the bottom of the R screen, you will find the “&gt;” symbol which represents the command line. If you type <code>1 + 2</code> into the command line and then hit enter you should get:</p>
<p><code>[1] 3</code></p>
<p>This is R performing your calculation, with the <code>[1]</code> indicating that the solution to <code>1 + 2</code> is a single number (the number 3).</p>
<p>At this point, close R - we will not interact with R like this in the future. You can close R by typing <code>quit()</code> at the command prompt, followed by the return key, or in the usual way of closing an application in your operating system. There is no need to save anything here if prompted.</p>
</div>
<div id="to-install-rstudio-on-your-computer" class="section level3 hasAnchor" number="1.2.2">
<h3><span class="header-section-number">1.2.2</span> To install RStudio on your computer<a href="introduction-to-r-and-rstudio.html#to-install-rstudio-on-your-computer" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>Make sure you have already installed R, and verified that it is working.</li>
<li>Download the RStudio desktop installer at: <a href="https://www.rstudio.com/products/rstudio/download" class="uri">https://www.rstudio.com/products/rstudio/download</a>. Ensure that you select the RStudio Desktop (Free) installer in the first column.</li>
<li>Install RStudio by running the installer and following the installation instructions. The default settings are fine.</li>
<li>Open RStudio, which will appear as below:</li>
</ol>
<p><img src="img/RStudio-screenshot-01.png" width="100%" /></p>
<p>Locate the command line symbol “&gt;” at the bottom of the left-hand panel. Type <code>1 + 2</code> into the command line and hit enter, and you will see:</p>
<p><code>[1] 3</code></p>
<p>This confirms that RStudio is running correctly, and can use the R language to correctly calculate the sum between 1 and 2!</p>
<p>RStudio currently comprises three window panes, and we will discuss these later.</p>
</div>
</div>
<div id="simpleR" class="section level2 hasAnchor" number="1.3">
<h2><span class="header-section-number">1.3</span> A simple R analysis<a href="introduction-to-r-and-rstudio.html#simpleR" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this very brief section, we will introduce R by calculating the average of six ages.</p>
<p>To begin, open a new R Script by choosing <strong>File &gt; New file &gt; R Script </strong>. A script (or a program) is a collection of commands that are sequentially processed by R. You can also type Ctrl+Shift+N in Windows, or Command+Shift+N in MacOS to open a new script in RStudio, or click the <strong>New File</strong> button at the top of the RStudio window.</p>
<p>You should now see four window panes, as below. In the top-left window, type the following (replacing my name with yours, and including today’s date):</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="introduction-to-r-and-rstudio.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Author: Timothy Dobbins</span></span>
<span id="cb1-2"><a href="introduction-to-r-and-rstudio.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Date: 5 April 2022</span></span>
<span id="cb1-3"><a href="introduction-to-r-and-rstudio.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Purpose: My first R script</span></span>
<span id="cb1-4"><a href="introduction-to-r-and-rstudio.html#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="introduction-to-r-and-rstudio.html#cb1-5" aria-hidden="true" tabindex="-1"></a>age <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">23</span>, <span class="dv">29</span>, <span class="dv">21</span>, <span class="dv">27</span>)</span>
<span id="cb1-6"><a href="introduction-to-r-and-rstudio.html#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(age)</span></code></pre></div>
<p><strong>Note: R is case-sensitive</strong>, so you should enter the text exactly as written in these notes.</p>
<p>Your screen should look something like:</p>
<p><img src="img/RStudio-screenshot-02.png" width="100%" /></p>
<p>To run your script, choose <strong>Code &gt; Run Region &gt; Run All</strong>. You will see your code appear in the bottom-right window, with the following output:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="introduction-to-r-and-rstudio.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Author: Timothy Dobbins</span></span>
<span id="cb2-2"><a href="introduction-to-r-and-rstudio.html#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># Date: 5 April 2022</span></span>
<span id="cb2-3"><a href="introduction-to-r-and-rstudio.html#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># Purpose: My first R script</span></span>
<span id="cb2-4"><a href="introduction-to-r-and-rstudio.html#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> </span>
<span id="cb2-5"><a href="introduction-to-r-and-rstudio.html#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> age <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">23</span>, <span class="dv">29</span>, <span class="dv">21</span>, <span class="dv">27</span>)</span>
<span id="cb2-6"><a href="introduction-to-r-and-rstudio.html#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="introduction-to-r-and-rstudio.html#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">summary</span>(age)</span>
<span id="cb2-8"><a href="introduction-to-r-and-rstudio.html#cb2-8" aria-hidden="true" tabindex="-1"></a>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span>
<span id="cb2-9"><a href="introduction-to-r-and-rstudio.html#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fl">20.00</span>   <span class="fl">21.50</span>   <span class="fl">24.00</span>   <span class="fl">24.17</span>   <span class="fl">26.50</span>   <span class="fl">29.00</span> </span></code></pre></div>
<p>We will explain the key parts of this script later, but for now, you have entered six ages and calculated the mean age (along with five other summary statistics).</p>
</div>
<div id="the-rstudio-environment" class="section level2 hasAnchor" number="1.4">
<h2><span class="header-section-number">1.4</span> The RStudio environment<a href="introduction-to-r-and-rstudio.html#the-rstudio-environment" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now that we have seen a simple example of how to use R within RStudio, let’s describe the RStudio environment. Let’s assume that you have just run your first R script, and you have four windows as below:</p>
<p><img src="img/RStudio-screenshot-03.png" width="100%" /></p>
<p>The <strong>Source</strong> window is where you will write and edit your R scripts. Your scripts can be saved by clicking <strong>File &gt; Save As</strong> or by clicking on the symbol of a floppy disk at the top of the script. The file will have an extension of .R, for example script.R. Give it a meaningful title and remember to periodically save as you go.</p>
<p>In RStudio, the name of the script will be black when it has been saved, and will change to red if you have any unsaved changes.</p>
<p>The <strong>Console</strong> window, at the bottom left, contains the command line which is indicated with the symbol &gt;. You can type commands here, but anything executed directly from the console is not saved and therefore is lost when the session ends (when you exit RStudio). You should always run your commands from a script file which you can save and use again later. When you run commands from a script, the output and any notes/errors are shown in the console. The Terminal and Jobs tabs will not be used in this course.</p>
<p>The <strong>Environment</strong> window at the top-right shows a list of objects that have been created during your session. When you close your RStudio session these objects will disappear. We will not use the History or Connections tabs in this course.</p>
<p>The bottom right corner contains some useful tabs, in particular the <strong>Help</strong> tab. When you are troubleshooting errors or learning how to use a function, the Help tab should be the first place you visit. Here you can search the help documents for all the packages you have installed. Whenever you create plots in R, these will be shown in the <strong>Plots</strong> tab. The <strong>Packages</strong> tab contains a list of installed packages and indicates which ones are currently in use (we will learn about packages later). Packages which are loaded, i.e. in use, are indicated with a tick. Some packages are in use by default when you begin a new session. You can access information about a package by clicking on its name. The <strong>Files</strong> tab provides a shortcut to access your files. The Viewer tab will not be used in this course.</p>
</div>
<div id="some-r-basics" class="section level2 hasAnchor" number="1.5">
<h2><span class="header-section-number">1.5</span> Some R basics<a href="introduction-to-r-and-rstudio.html#some-r-basics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While we use R as a statistics package, R is a programming language. In order to use R effectively, we need to define some basics.</p>
<div id="objects" class="section level3 hasAnchor" number="1.5.1">
<h3><span class="header-section-number">1.5.1</span> Objects<a href="introduction-to-r-and-rstudio.html#objects" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If you do some reading about R, you may learn that R is an “object-oriented programming language”. When we enter or import data into R, we are asking R to create <strong>objects</strong> from our data. These objects can be manipulated and transformed by <strong>functions</strong>, to obtain useful insights from our data.</p>
<p>Objects in R are created using the <strong>assignment operator</strong>. The most common form of the assignment operator looks like an arrow: <code>&lt;-</code> and is typed as the <code>&lt;</code> and <code>-</code> symbols. The simplest way of reading <code>&lt;-</code> is as the words “is defined as”. Note that it possible to use <code>-&gt;</code> and even <code>=</code> as assignment operators, but their use is less frequent.</p>
<p>Let’s see an example:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="introduction-to-r-and-rstudio.html#cb3-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">42</span></span></code></pre></div>
<p>This command creates a new object called <code>x</code>, which is defined as the number 42 (or in words, “<code>x</code> is defined as 42”). Running this command gives no output in the console, but the new object appears in the top-right <strong>Environment</strong> panel. We can view the object in the console by typing its name:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="introduction-to-r-and-rstudio.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the object x</span></span>
<span id="cb4-2"><a href="introduction-to-r-and-rstudio.html#cb4-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 42</code></pre>
<p>Now we see the contents of <code>x</code> in the console.</p>
<p>This example is rather trivial, and we rarely assign objects of just one value. In fact, we created an object earlier, called <code>age</code>, which comprised six values.</p>
</div>
<div id="r-is-case-sensitive" class="section level3 hasAnchor" number="1.5.2">
<h3><span class="header-section-number">1.5.2</span> R is case-sensitive<a href="introduction-to-r-and-rstudio.html#r-is-case-sensitive" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As mentioned earlier, R is case-sensitive. Which means that an object called <code>x</code> cannot be referred to as <code>X</code>. Similarly, an object called <code>Age</code> would not be the same as <code>age</code>.</p>
</div>
<div id="data-structures" class="section level3 hasAnchor" number="1.5.3">
<h3><span class="header-section-number">1.5.3</span> Data structures<a href="introduction-to-r-and-rstudio.html#data-structures" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are two main structures we will use to work with data in this course: <strong>vectors</strong> and <strong>data frames</strong>. A <strong>vector</strong> is a combination of data values, all of the same type. For example, our six ages that we entered earlier is a vector. You could think of a vector as a column of data (even though R prints vectors as rows!) And technically, even an object with only one value is a vector, a vector of size 1.</p>
<p>The easiest way of creating a vector in R is by using the <code>c()</code> function, where c stands for ‘combine’. In our previous Simple Analysis in R (Section <a href="introduction-to-r-and-rstudio.html#simpleR">1.3</a>), we wrote the command:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="introduction-to-r-and-rstudio.html#cb6-1" aria-hidden="true" tabindex="-1"></a>age <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">23</span>, <span class="dv">29</span>, <span class="dv">21</span>, <span class="dv">27</span>)</span></code></pre></div>
<p>This command created a new object called <code>age</code>, and <em>combined</em> the six values of age into one vector.</p>
<p>Just as having a vector of size 1 is unusual, having just one column of data to analyse is also pretty unusual. The other structure we will describe here is a <strong>data frame</strong> which is essentially a collection of vectors, each of the same size. You could think of a data frame as being like a spreadsheet, with columns representing variables, and rows representing observations.</p>
<p>There are other structures in R, such as matrices and lists, which we won’t discuss in this course. And you may come across the term <a href="https://r4ds.had.co.nz/tibbles.html"><strong>tibble</strong></a>, which is a type of data frame.</p>
</div>
<div id="functions" class="section level3 hasAnchor" number="1.5.4">
<h3><span class="header-section-number">1.5.4</span> Functions<a href="introduction-to-r-and-rstudio.html#functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If objects are the nouns of R, functions are the verbs. Essentially, functions transform objects. Functions can transform your data into summary statistics, graphical summaries or analysis results. For example, we used the <code>summary()</code> function to display summary statistics for our six ages.</p>
<p>R functions are specified by their arguments (or inputs). The arguments that can be supplied for each function can be inspected by examining the help notes for that function. To obtain help for a function, we can submit <code>help(summary)</code> (or equivalently <code>?summary</code>) in the console, or we can use the <strong>Help</strong> tab in the bottom-right window of RStudio. For example, the first part of the help notes for <code>summary</code> appear as:</p>
<p><img src="img/help-1.png" width="80%" /></p>
<p>The help notes in R can be quite cryptic, but the <strong>Usage</strong> section details what inputs should be specified for the function to run. Here, <code>summary</code> requires an object to be specified. In our case, we specified <code>age</code>, which is our object defined as the vector of six ages.</p>
<p>Most help pages also include some examples of how you might use the function. These can be found at the very bottom of the help page.</p>
<p><img src="img/help-2.png" width="80%" /></p>
<p>The <code>summary()</code> function is quite simple, in that it only requires one input, the object to be summarised. More complex functions might require a number of inputs. For example, the help notes for the <code>descriptives()</code> function in the <code>jmv</code> package show a large number of inputs can be specified:</p>
<p><img src="img/help-3.png" width="80%" /></p>
<p>There are two things to note here. First, notice that the first two inputs are listed with no = symbol, but all other inputs are listed with = symbols (with values provided after the = symbol). This means that everything apart from <code>data</code> and <code>vars</code> have <strong>default</strong> values. We are free to not specify values for these inputs if we are happy with the defaults provided. For example, by default the variance is not calculated (as <code>variance = FALSE</code>). To obtain the variance as well as the standard deviation, we can change this default to <code>variance = TRUE</code>:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="introduction-to-r-and-rstudio.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Only the standard deviation is provided as the measure of variability</span></span>
<span id="cb7-2"><a href="introduction-to-r-and-rstudio.html#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">descriptives</span>(<span class="at">data=</span>pbc, <span class="at">vars=</span>age)</span>
<span id="cb7-3"><a href="introduction-to-r-and-rstudio.html#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="introduction-to-r-and-rstudio.html#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Additionally request the variance to be calculated</span></span>
<span id="cb7-5"><a href="introduction-to-r-and-rstudio.html#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">descriptives</span>(<span class="at">data=</span>pbc, <span class="at">vars=</span>age, <span class="at">variance=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<p>Second, for functions with multiple inputs, we can specify the input name and its value, or we can ignore the input name and specify just the input values <strong>in the order listed in the Usage section</strong>. So the following are equivalent:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="introduction-to-r-and-rstudio.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We can specify that the dataset to be summarised is pbc,</span></span>
<span id="cb8-2"><a href="introduction-to-r-and-rstudio.html#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   and the variable to summarise is age:</span></span>
<span id="cb8-3"><a href="introduction-to-r-and-rstudio.html#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">descriptives</span>(<span class="at">data=</span>pbc, <span class="at">vars=</span>age)</span>
<span id="cb8-4"><a href="introduction-to-r-and-rstudio.html#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="introduction-to-r-and-rstudio.html#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co"># We can omit the input name, as long as we keep the inputs in the correct order - </span></span>
<span id="cb8-6"><a href="introduction-to-r-and-rstudio.html#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   that is, dataset first, variable second:</span></span>
<span id="cb8-7"><a href="introduction-to-r-and-rstudio.html#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="fu">descriptives</span>(pbc, age)</span>
<span id="cb8-8"><a href="introduction-to-r-and-rstudio.html#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="introduction-to-r-and-rstudio.html#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co"># We can change the order of the inputs, as long as we specify the input name:</span></span>
<span id="cb8-10"><a href="introduction-to-r-and-rstudio.html#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="fu">descriptives</span>(<span class="at">vars=</span>age, <span class="at">data=</span>pbc)</span></code></pre></div>
<p>In this course, we will usually provide all the input names, even when they are not required. As you become more familiar with R, you will start to use the shortcut method.</p>
<div id="the-curse-of-functions" class="section level4 hasAnchor" number="1.5.4.1">
<h4><span class="header-section-number">1.5.4.1</span> The curse of functions<a href="introduction-to-r-and-rstudio.html#the-curse-of-functions" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>As R is an open-source project, many people have contributed to its development. This has led to a frustrating part of R: some functions require a single object to be specified, but some require you to specify a data frame and select variables for analysis. Let’s see an example.</p>
<p>The help for <code>summary()</code> specifies the usage as: <code>summary(object, ...)</code>. This means we need to specify a single object to be summarised. An object could be a single column of data (i.e. a vector), or it could be a data frame. If we have a data frame called <code>pbc</code> which contains many variables, the command <code>summary(pbc)</code> would summarise every variable in the data frame.</p>
<p>What if we only wanted to summarise the age of the participants in the data frame? To select a single variable from a data frame, we can use the following syntax: <code>dataframe$variable</code>. So to summarise just age from this data frame, we would use: <code>summary(pbc$age)</code>.</p>
<p>Compare this with the <code>descriptives()</code> function in the <code>jmv</code> package. We saw earlier that the two required inputs for <code>descriptives()</code> are <code>data</code> (the data frame to be analysed) and <code>vars</code> (the variables to be analysed). So to summarise <code>age</code> from the <code>pbc</code> data frame, we would specify <code>descriptives(data=pbc, vars=age)</code>.</p>
<p>This inconsistency will seem maddening at first. Reading the <strong>usage</strong> section of the help pages is a useful way to determine whether you should specify an object (like <code>pbc$age</code>) or a data frame and a list of variables.</p>
</div>
</div>
<div id="packages" class="section level3 hasAnchor" number="1.5.5">
<h3><span class="header-section-number">1.5.5</span> Packages<a href="introduction-to-r-and-rstudio.html#packages" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A <strong>package</strong> is a collection of functions, documentation (and sometimes datasets) that extend the capabilities of R. Packages have been written by R users to be freely distributed and used by others. R packages can be obtained from many sources, but the most common source is CRAN: the Comprehensive R Archive Network.</p>
<p>A useful way of thinking about R is that R is like a smartphone, with packages being like apps which are downloaded from CRAN (similar to an app-store). When you first install R, it comes with a basic set of packages (apps) installed. You can do a lot of things with these basic packages, but sometimes you might want to do things differently, or you may want to perform some analyses that can’t be done using the default packages. In these cases, you can install a package.</p>
<p>Like installing an app on a smartphone, you only need to <em>install</em> a package once. But each time you want to use the package, you need to <em>load</em> the package into R. This is similar to running the app on your phone. The analogy falls down a bit in that we usually load more than one package in an R script - but we only load the packages we need for that R session.</p>
</div>
<div id="how-to-install-a-package" class="section level3 hasAnchor" number="1.5.6">
<h3><span class="header-section-number">1.5.6</span> How to install a package<a href="introduction-to-r-and-rstudio.html#how-to-install-a-package" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are a couple of ways to install a package. You can use the <code>install.packages()</code> function if you know the exact name of the package. Let’s use an example of installing the <code>skimr</code> package, which gives a very nice, high-level overview of any data frame. We can install <code>skimr</code> by typing the following into the console:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="introduction-to-r-and-rstudio.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;skimr&quot;</span>)</span></code></pre></div>
<p>Note the use of the quotation marks.</p>
<p>Alternatively, RStudio offers a graphical way of installing packages that can be accessed via <strong>Tools &gt; Install Packages</strong>, or via the <strong>Install</strong> button at the top of the <strong>Packages</strong> tab in the bottom-right window. You can begin typing the name of the package in the dialog box that appears, and RStudio will use predictive text to offer possible packages:</p>
<p><img src="img/install-packages.png" width="60%" /></p>
<p>While writing code is usually the recommended way to use R, installing packages is an exception. Using the graphical interface is perfectly fine, because you only need to install a package once.</p>
</div>
<div id="how-to-load-a-package" class="section level3 hasAnchor" number="1.5.7">
<h3><span class="header-section-number">1.5.7</span> How to load a package<a href="introduction-to-r-and-rstudio.html#how-to-load-a-package" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When you begin a new session in RStudio, i.e. when you open RStudio, only certain core packages are automatically loaded. You can use the <code>library()</code> function to load a package that you has previously been installed. For example, now that we have installed <code>skimr</code>, we need to load it before we can use it:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="introduction-to-r-and-rstudio.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span></code></pre></div>
<p>Note that quotation marks are not required for the <code>library()</code> function (although they can be included if you really like quotation marks!).</p>
<div id="installing-vs-loading-packages" class="section level4 unnumbered hasAnchor">
<h4>Installing vs loading packages<a href="introduction-to-r-and-rstudio.html#installing-vs-loading-packages" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Package installation:</p>
<ul>
<li>use the <code>install.packages()</code> function (note the ‘s’)</li>
<li>the package name must be surrounded by quotation marks</li>
<li>only needs to be done once</li>
</ul>
<p>Package loading</p>
<ul>
<li>use the <code>library()</code> function</li>
<li>the package name does not need to be surrounded by quotation marks</li>
<li>must be done for each R session</li>
</ul>
</div>
</div>
</div>
<div id="part-2-obtaining-basic-descriptive-statistics" class="section level2 unnumbered hasAnchor">
<h2>Part 2: Obtaining basic descriptive statistics<a href="introduction-to-r-and-rstudio.html#part-2-obtaining-basic-descriptive-statistics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this exercise, we will analyse data to complete a descriptive table from a research study. The data come from a study in primary biliary cirrhosis, a condition of the liver, from Modeling Survival Data: Extending the Cox Model <span class="citation">Therneau and Grambsch (<a href="#ref-therneau_grambsch10" role="doc-biblioref">2010</a>)</span>. By the end of this exercise, we will have completed the following table.</p>
<p><table class="huxtable" style="border-collapse: collapse; border: 0px; margin-bottom: 2em; margin-top: 2em; width: 95%; margin-left: auto; margin-right: auto;  " id="tab:unnamed-chunk-18">
<caption style="caption-side: top; text-align: center;"><span id="tab:unnamed-chunk-18">Table 1.1: </span> Summary of 418 participants from the PBC study (Therneau and Grambsch, 2000)</caption><col><col><col><tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: bold;">Characteristic</th><th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;"> </th><th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: bold;">Summary</th></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;">Age (years)</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">Mean (SD) or Median [IQR]</td></tr>
<tr>
<td rowspan="2" style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">Sex</td><td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Male</td><td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Female</td><td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">AST* (U/ml)</td><td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></td><td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">Mean (SD) or Median [IQR]</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">Serum bilirubin</td><td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></td><td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">Mean (SD) or Median [IQR]</td></tr>
<tr>
<td rowspan="4" style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">Stage</td><td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">I</td><td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">II</td><td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">III</td><td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">IIIV</td><td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td rowspan="3" style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;">Vital status at study end</td><td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Alive: no transplant</td><td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Alive: transplant</td><td style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Deceased</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td colspan="3" style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">* asparate aminotransferase</td></tr>
</table>

This table is available in Table1.docx, saved on Moodle.</p>
<div id="opening-a-data-file" class="section level3 hasAnchor" number="1.5.8">
<h3><span class="header-section-number">1.5.8</span> Opening a data file<a href="introduction-to-r-and-rstudio.html#opening-a-data-file" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Typing data directly into R is not common; we usually open data that have been previously saved. There are two useful packages for importing data into R: <code>haven</code> (for data that have been saved by Stata, SAS or SPSS) and <code>readxl</code> (for data saved by Microsoft Excel). Additionally, the <code>labelled</code> package is useful in working with data that have been labelled in Stata. Here, we will open a dataset that has been stored as a Stata data file (which has the .dta suffix):</p>
<p>1 - If necessary, install the following packages: <code>haven</code>, <code>readxl</code>, <code>skimr</code> and <code>labelled</code>. As mentioned earlier, packages only need to be installed if they have not been installed earlier.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="introduction-to-r-and-rstudio.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;haven&quot;</span>)</span>
<span id="cb11-2"><a href="introduction-to-r-and-rstudio.html#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>)</span>
<span id="cb11-3"><a href="introduction-to-r-and-rstudio.html#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;skimr&quot;</span>)</span>
<span id="cb11-4"><a href="introduction-to-r-and-rstudio.html#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;labelled&quot;</span>)</span></code></pre></div>
<p>2 - Locate the data set called pbc.dta on Moodle. Click the file to download it, and then save it in a folder you will be able to locate later - for example, your OneDrive folder. The description of this dataset (i.e. the metadata) have been saved as a plain text file: pbc_info.txt. Locate the file and filepath of pbc.dta.</p>
<p>3 - Load the following packages: <code>haven</code>, <code>labelled</code> and <code>skimr</code>, and use the <code>read_dta()</code> function to read the Stata file into R, and assign it to a data frame called <code>pbc</code>:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="introduction-to-r-and-rstudio.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven)</span>
<span id="cb12-2"><a href="introduction-to-r-and-rstudio.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(labelled)</span>
<span id="cb12-3"><a href="introduction-to-r-and-rstudio.html#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb12-4"><a href="introduction-to-r-and-rstudio.html#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="introduction-to-r-and-rstudio.html#cb12-5" aria-hidden="true" tabindex="-1"></a>pbc <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">&quot;data/examples/pbc.dta&quot;</span>)</span></code></pre></div>
<p>4 - We now re-assign the pbc data frame by using the <code>unlabelled()</code> function from the <code>labelled</code> package. We only need to do this for data that have been labelled by another package:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="introduction-to-r-and-rstudio.html#cb13-1" aria-hidden="true" tabindex="-1"></a>pbc <span class="ot">&lt;-</span> <span class="fu">unlabelled</span>(pbc)</span></code></pre></div>
<p>Note that we can combine the <code>unlabelled()</code> and <code>read_dta()</code> functions together, to complete this process in one line:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="introduction-to-r-and-rstudio.html#cb14-1" aria-hidden="true" tabindex="-1"></a>pbc <span class="ot">&lt;-</span> <span class="fu">unlabelled</span>(<span class="fu">read_dta</span>(<span class="st">&quot;data/examples/pbc.dta&quot;</span>))</span></code></pre></div>
<p>5 - We can now use the <code>summary()</code> function to examine the pbc dataset:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="introduction-to-r-and-rstudio.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(pbc)</span></code></pre></div>
<pre><code>##        id             time          status            trt       
##  Min.   :  1.0   Min.   :  41   Min.   :0.0000   Min.   :1.000  
##  1st Qu.:105.2   1st Qu.:1093   1st Qu.:0.0000   1st Qu.:1.000  
##  Median :209.5   Median :1730   Median :0.0000   Median :1.000  
##  Mean   :209.5   Mean   :1918   Mean   :0.8301   Mean   :1.494  
##  3rd Qu.:313.8   3rd Qu.:2614   3rd Qu.:2.0000   3rd Qu.:2.000  
##  Max.   :418.0   Max.   :4795   Max.   :2.0000   Max.   :2.000  
##                                                  NA&#39;s   :106    
##       age             sex           ascites            hepato      
##  Min.   :26.28   Min.   :1.000   Min.   :0.00000   Min.   :0.0000  
##  1st Qu.:42.83   1st Qu.:2.000   1st Qu.:0.00000   1st Qu.:0.0000  
##  Median :51.00   Median :2.000   Median :0.00000   Median :1.0000  
##  Mean   :50.74   Mean   :1.895   Mean   :0.07692   Mean   :0.5128  
##  3rd Qu.:58.24   3rd Qu.:2.000   3rd Qu.:0.00000   3rd Qu.:1.0000  
##  Max.   :78.44   Max.   :2.000   Max.   :1.00000   Max.   :1.0000  
##                                  NA&#39;s   :106       NA&#39;s   :106     
##     spiders           edema             bili             chol       
##  Min.   :0.0000   Min.   :0.0000   Min.   : 0.300   Min.   : 120.0  
##  1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.: 0.800   1st Qu.: 249.5  
##  Median :0.0000   Median :0.0000   Median : 1.400   Median : 309.5  
##  Mean   :0.2885   Mean   :0.1005   Mean   : 3.221   Mean   : 369.5  
##  3rd Qu.:1.0000   3rd Qu.:0.0000   3rd Qu.: 3.400   3rd Qu.: 400.0  
##  Max.   :1.0000   Max.   :1.0000   Max.   :28.000   Max.   :1775.0  
##  NA&#39;s   :106                                        NA&#39;s   :134     
##     albumin          copper          alkphos             ast        
##  Min.   :1.960   Min.   :  4.00   Min.   :  289.0   Min.   : 26.35  
##  1st Qu.:3.243   1st Qu.: 41.25   1st Qu.:  871.5   1st Qu.: 80.60  
##  Median :3.530   Median : 73.00   Median : 1259.0   Median :114.70  
##  Mean   :3.497   Mean   : 97.65   Mean   : 1982.7   Mean   :122.56  
##  3rd Qu.:3.770   3rd Qu.:123.00   3rd Qu.: 1980.0   3rd Qu.:151.90  
##  Max.   :4.640   Max.   :588.00   Max.   :13862.4   Max.   :457.25  
##                  NA&#39;s   :108      NA&#39;s   :106       NA&#39;s   :106     
##       trig           platelet        protime          stage      
##  Min.   : 33.00   Min.   : 62.0   Min.   : 9.00   Min.   :1.000  
##  1st Qu.: 84.25   1st Qu.:188.5   1st Qu.:10.00   1st Qu.:2.000  
##  Median :108.00   Median :251.0   Median :10.60   Median :3.000  
##  Mean   :124.70   Mean   :257.0   Mean   :10.73   Mean   :3.024  
##  3rd Qu.:151.00   3rd Qu.:318.0   3rd Qu.:11.10   3rd Qu.:4.000  
##  Max.   :598.00   Max.   :721.0   Max.   :18.00   Max.   :4.000  
##  NA&#39;s   :136      NA&#39;s   :11      NA&#39;s   :2       NA&#39;s   :6</code></pre>
<p>An alternative to the <code>summary()</code> function is the <code>skim()</code> function in the <code>skimr</code> package, which produces summary statistics as well as rudimentary histograms:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="introduction-to-r-and-rstudio.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(pbc)</span></code></pre></div>
<p>Note that the output of the <code>skimr()</code> function has been included as a screenshot, due to problems with the histograms displaying as text.</p>
<p><img src="img/skim-pbc.png" width="90%" /></p>
<p>The <code>summary()</code> and <code>skim()</code> functions are useful to give a quick overview of a dataset: how many variables are included, how variables are coded and whether or not there are missing data.</p>
</div>
<div id="summarising-continuous-variables" class="section level3 hasAnchor" number="1.5.9">
<h3><span class="header-section-number">1.5.9</span> Summarising continuous variables<a href="introduction-to-r-and-rstudio.html#summarising-continuous-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One of the most flexible functions for summarising continuous variables is the <code>descriptives()</code> function from the <code>jmv</code> package. The function is specified as <code>descriptives(data=, vars=)</code> where:</p>
<ul>
<li><code>data</code> specifies the dataframe to be analysed</li>
<li><code>vars</code> specifies the variable(s) of interest, with multiple variables combined using the <code>c()</code> function</li>
</ul>
<p>We can summarise the three continuous variables in the pbc data: age, AST and serum bilirubin, as shown below.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="introduction-to-r-and-rstudio.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jmv)</span>
<span id="cb18-2"><a href="introduction-to-r-and-rstudio.html#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="introduction-to-r-and-rstudio.html#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">descriptives</span>(<span class="at">data=</span>pbc, <span class="at">vars=</span><span class="fu">c</span>(age, ast, bili))</span></code></pre></div>
<pre><code>## 
##  DESCRIPTIVES
## 
##  Descriptives                                                
##  ─────────────────────────────────────────────────────────── 
##                          age         ast         bili        
##  ─────────────────────────────────────────────────────────── 
##    N                          418         312          418   
##    Missing                      0         106            0   
##    Mean                  50.74155    122.5563     3.220813   
##    Median                51.00068    114.7000     1.400000   
##    Standard deviation    10.44721    56.69952     4.407506   
##    Minimum               26.27789    26.35000    0.3000000   
##    Maximum               78.43943    457.2500     28.00000   
##  ───────────────────────────────────────────────────────────</code></pre>
<p>By default, the <code>descriptives</code> function presents the mean, median, standard deviation, minimum and maximum. We can request additional statistics, such as the quartiles (which are called the percentiles, or pc, in the descriptives function):</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="introduction-to-r-and-rstudio.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">descriptives</span>(<span class="at">data=</span>pbc, <span class="at">vars=</span><span class="fu">c</span>(age, ast, bili), <span class="at">pc=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## 
##  DESCRIPTIVES
## 
##  Descriptives                                                
##  ─────────────────────────────────────────────────────────── 
##                          age         ast         bili        
##  ─────────────────────────────────────────────────────────── 
##    N                          418         312          418   
##    Missing                      0         106            0   
##    Mean                  50.74155    122.5563     3.220813   
##    Median                51.00068    114.7000     1.400000   
##    Standard deviation    10.44721    56.69952     4.407506   
##    Minimum               26.27789    26.35000    0.3000000   
##    Maximum               78.43943    457.2500     28.00000   
##    25th percentile       42.83231    80.60000    0.8000000   
##    50th percentile       51.00068    114.7000     1.400000   
##    75th percentile       58.24093    151.9000     3.400000   
##  ───────────────────────────────────────────────────────────</code></pre>
</div>
<div id="producing-a-histogram" class="section level3 hasAnchor" number="1.5.10">
<h3><span class="header-section-number">1.5.10</span> Producing a histogram<a href="introduction-to-r-and-rstudio.html#producing-a-histogram" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can use the <code>hist()</code> function to produce a histogram, specifying the dataframe to use and the variable to be plotted as <code>dataframe$variable</code>:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="introduction-to-r-and-rstudio.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(pbc<span class="sc">$</span>age)</span></code></pre></div>
<p><img src="phcm9795-R-notes_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<p>The histogram function does a remakarbly good job of choosing cutpoints and binwidths, and these rarely need to be changed. However, the labelling of the histogram should be improved by using <code>xlab=</code> and <code>main=</code> to assign labels for the x-axis and overall title respectively:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="introduction-to-r-and-rstudio.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(pbc<span class="sc">$</span>age, <span class="at">xlab=</span><span class="st">&quot;Age (years)&quot;</span>, <span class="at">main=</span><span class="st">&quot;Histogram of participant age from pbc study data&quot;</span>)</span></code></pre></div>
<p><img src="phcm9795-R-notes_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
</div>
<div id="producing-a-boxplot" class="section level3 hasAnchor" number="1.5.11">
<h3><span class="header-section-number">1.5.11</span> Producing a boxplot<a href="introduction-to-r-and-rstudio.html#producing-a-boxplot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>boxplot</code> function is used to produce boxplots, again specifying the dataframe to use and the variable to be plotted as <code>dataframe$variable</code>. Labels can be applied in the same way as the histogram:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="introduction-to-r-and-rstudio.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(pbc<span class="sc">$</span>age, <span class="at">xlab=</span><span class="st">&quot;Age (years)&quot;</span>, <span class="at">main=</span><span class="st">&quot;Boxplot of participant age from pbc study data&quot;</span>)</span></code></pre></div>
<p><img src="phcm9795-R-notes_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
</div>
<div id="producing-a-one-way-frequency-table" class="section level3 hasAnchor" number="1.5.12">
<h3><span class="header-section-number">1.5.12</span> Producing a one-way frequency table<a href="introduction-to-r-and-rstudio.html#producing-a-one-way-frequency-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We have three categorical variables to summarise in Table 1: sex, stage and vital status. These variables are best summarised using one-way frequency tables.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="introduction-to-r-and-rstudio.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(summarytools)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;summarytools&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:tibble&#39;:
## 
##     view</code></pre>
<pre><code>## The following objects are masked from &#39;package:huxtable&#39;:
## 
##     label, label&lt;-</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="introduction-to-r-and-rstudio.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(pbc<span class="sc">$</span>sex)</span></code></pre></div>
<pre><code>## Frequencies  
## pbc$sex  
## Type: Numeric  
## 
##               Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
## ----------- ------ --------- -------------- --------- --------------
##           1     44     10.53          10.53     10.53          10.53
##           2    374     89.47         100.00     89.47         100.00
##        &lt;NA&gt;      0                               0.00         100.00
##       Total    418    100.00         100.00    100.00         100.00</code></pre>
</div>
</div>
<div id="defining-categorical-variables-as-factors" class="section level2 hasAnchor" number="1.6">
<h2><span class="header-section-number">1.6</span> Defining categorical variables as factors<a href="introduction-to-r-and-rstudio.html#defining-categorical-variables-as-factors" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You will notice that the table above, in its current form, is uninterpretable as the 1 and 2 categories are not labelled. In this course, all variables including categorical variables tend to be numerically coded. To define a categorical variable as such in R, we define it as a <strong>factor</strong> using the <code>factor</code> function:</p>
<p><code>factor(variable=, levels=, labels=)</code></p>
<p>We specify:</p>
<ul>
<li><code>levels</code>: the values the categorical variable uses can take</li>
<li><code>labels</code>: the labels corresponding to each of the levels (<em>entered in the same order as the levels</em>)</li>
</ul>
<p>To define our variable sex as a factor, we use:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="introduction-to-r-and-rstudio.html#cb31-1" aria-hidden="true" tabindex="-1"></a>pbc<span class="sc">$</span>sex <span class="ot">&lt;-</span> <span class="fu">factor</span>(pbc<span class="sc">$</span>sex, <span class="at">levels=</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="at">labels=</span><span class="fu">c</span>(<span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>))</span></code></pre></div>
<p>We can confirm the coding by re-running a frequency table:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="introduction-to-r-and-rstudio.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(pbc<span class="sc">$</span>sex)</span></code></pre></div>
<pre><code>## Frequencies  
## pbc$sex  
## Type: Factor  
## 
##                Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
## ------------ ------ --------- -------------- --------- --------------
##         Male     44     10.53          10.53     10.53          10.53
##       Female    374     89.47         100.00     89.47         100.00
##         &lt;NA&gt;      0                               0.00         100.00
##        Total    418    100.00         100.00    100.00         100.00</code></pre>
<p>Task: define Stage and Vital Status as factors, and produce one-way frequency tables.</p>
<div id="copying-output-from-r-update" class="section level3 hasAnchor" number="1.6.1">
<h3><span class="header-section-number">1.6.1</span> Copying output from R [UPDATE]<a href="introduction-to-r-and-rstudio.html#copying-output-from-r-update" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>It is important to note that saving data in Stata will not save your output. Stata data and output are completely separate to one another. The easiest way to retain the output of your analyses is to copy the output into a word processor package (e.g. Microsoft Word) before closing Stata. Once Stata is closed, all the output (that is, all your hard work!) is lost.</p>
<p>To copy output from Stata, you can select the output and choose Edit &gt; Copy. This will copy the output as plain text for pasting into a Word document. As this is a table, you can also Copy table or Copy table as HTML. For this course, we recommend that you Copy table as HTML for pasting into Word. Whichever way you do it, you will need to make sure you reformat the table and relabel your header row and column properly for your assignments as described in Module 1. Alternatively, you can copy with the Copy table option for pasting into an Excel worksheet and reformat your table in Excel before pasting into Word.</p>
<p>Copying output from Stata can get a little complicated to explain. We have included a video on Moodle to summarise the different ways output can be copied.</p>
<p>Task: complete Table 1 using the output generated in this exercise. You should decide on whether to present continuous variables by their means or medians, and present the most appropriate measure of spread. Include footnotes to indicate if any variables contain missing observations.</p>
</div>
</div>
<div id="part-3-creating-other-types-of-graphs" class="section level2 unnumbered hasAnchor">
<h2>Part 3: Creating other types of graphs<a href="introduction-to-r-and-rstudio.html#part-3-creating-other-types-of-graphs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="bar-graphs" class="section level3 hasAnchor" number="1.6.2">
<h3><span class="header-section-number">1.6.2</span> Bar graphs<a href="introduction-to-r-and-rstudio.html#bar-graphs" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Here we will create the bar chart shown in Figure 1.1 using the <code>pbc.dta</code> dataset. The x-axis of this graph will be the stage of disease, and the y-axis will show the number of participants in each category.</p>
<div id="simple-bar-graph" class="section level4 hasAnchor" number="1.6.2.1">
<h4><span class="header-section-number">1.6.2.1</span> Simple bar graph<a href="introduction-to-r-and-rstudio.html#simple-bar-graph" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For most of our bar graphs, we will be plotting frequencies, so we choose <strong>Graph of frequencies within categories</strong></p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="introduction-to-r-and-rstudio.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert stage into a factpr</span></span>
<span id="cb34-2"><a href="introduction-to-r-and-rstudio.html#cb34-2" aria-hidden="true" tabindex="-1"></a>pbc<span class="sc">$</span>stage <span class="ot">&lt;-</span> <span class="fu">factor</span>(pbc<span class="sc">$</span>stage, <span class="at">levels=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>), <span class="at">labels=</span><span class="fu">c</span>(<span class="st">&quot;Stage 1&quot;</span>, <span class="st">&quot;Stage 2&quot;</span>, <span class="st">&quot;Stage 3&quot;</span>, <span class="st">&quot;Stage 4&quot;</span>))</span>
<span id="cb34-3"><a href="introduction-to-r-and-rstudio.html#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="introduction-to-r-and-rstudio.html#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pbc<span class="sc">$</span>stage, <span class="at">main=</span><span class="st">&quot;Bar graph of stage of disease from PBC study&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;Number of participants&quot;</span>)</span></code></pre></div>
<p><img src="phcm9795-R-notes_files/figure-html/unnamed-chunk-34-1.png" width="672" /></p>
</div>
</div>
<div id="clustered-bar-graph" class="section level3 hasAnchor" number="1.6.3">
<h3><span class="header-section-number">1.6.3</span> Clustered bar graph<a href="introduction-to-r-and-rstudio.html#clustered-bar-graph" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To create a clustered bar chart as shown in Figure 1.2:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="introduction-to-r-and-rstudio.html#cb35-1" aria-hidden="true" tabindex="-1"></a>counts <span class="ot">&lt;-</span> <span class="fu">table</span>(pbc<span class="sc">$</span>sex, pbc<span class="sc">$</span>stage)</span>
<span id="cb35-2"><a href="introduction-to-r-and-rstudio.html#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(counts, <span class="at">main=</span><span class="st">&quot;Bar graph of stage of disease by sex from PBC study&quot;</span>,</span>
<span id="cb35-3"><a href="introduction-to-r-and-rstudio.html#cb35-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend =</span> <span class="fu">rownames</span>(counts), <span class="at">beside=</span><span class="cn">TRUE</span>, <span class="at">args.legend =</span> <span class="fu">list</span>(<span class="at">x =</span> <span class="st">&quot;topleft&quot;</span>))</span></code></pre></div>
<p><img src="phcm9795-R-notes_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
</div>
<div id="stacked-bar-graph" class="section level3 hasAnchor" number="1.6.4">
<h3><span class="header-section-number">1.6.4</span> Stacked bar graph<a href="introduction-to-r-and-rstudio.html#stacked-bar-graph" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To create a stacked bar chart shown in Figure 1.4, bring up the <strong>Bar chart</strong> dialog box, go to the <strong>Options</strong> tab and tick <strong>Stack bars on y variables</strong>.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="introduction-to-r-and-rstudio.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(counts, <span class="at">main=</span><span class="st">&quot;Bar graph of stage of disease by sex from PBC study&quot;</span>,</span>
<span id="cb36-2"><a href="introduction-to-r-and-rstudio.html#cb36-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend =</span> <span class="fu">rownames</span>(counts), <span class="at">beside=</span><span class="cn">FALSE</span>, <span class="at">args.legend =</span> <span class="fu">list</span>(<span class="at">x =</span> <span class="st">&quot;topleft&quot;</span>))</span></code></pre></div>
<p><img src="phcm9795-R-notes_files/figure-html/unnamed-chunk-36-1.png" width="672" /></p>
</div>
<div id="stacked-bar-graph-of-relative-frequencies" class="section level3 hasAnchor" number="1.6.5">
<h3><span class="header-section-number">1.6.5</span> Stacked bar graph of relative frequencies<a href="introduction-to-r-and-rstudio.html#stacked-bar-graph-of-relative-frequencies" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If one wants to compare the sex distribution across the stage categories, it would be convenient if all the bars have the same height (100%). To generate such a bar chart in Stata, tick <strong>Base bar heights on percentages</strong> in the <strong>Options</strong> tab of the <strong>Bar charts</strong> dialog box. Change the y-axis title in the <strong>Y axis</strong> tab to <code>Percentage of students in each age group</code>.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="introduction-to-r-and-rstudio.html#cb37-1" aria-hidden="true" tabindex="-1"></a>percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(counts, <span class="at">margin=</span><span class="dv">2</span>)<span class="sc">*</span><span class="dv">100</span></span>
<span id="cb37-2"><a href="introduction-to-r-and-rstudio.html#cb37-2" aria-hidden="true" tabindex="-1"></a>percent</span></code></pre></div>
<pre><code>##         
##            Stage 1   Stage 2   Stage 3   Stage 4
##   Male   14.285714  8.695652 10.322581 11.805556
##   Female 85.714286 91.304348 89.677419 88.194444</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="introduction-to-r-and-rstudio.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(percent, <span class="at">main=</span><span class="st">&quot;Relative frequency of sex within stage of disease from PBC study&quot;</span>,</span>
<span id="cb39-2"><a href="introduction-to-r-and-rstudio.html#cb39-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend =</span> <span class="fu">rownames</span>(counts), <span class="at">beside=</span><span class="cn">FALSE</span>, <span class="at">args.legend =</span> <span class="fu">list</span>(<span class="at">x =</span> <span class="st">&quot;topright&quot;</span>))</span></code></pre></div>
<p><img src="phcm9795-R-notes_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
</div>
<div id="creating-line-graphs" class="section level3 hasAnchor" number="1.6.6">
<h3><span class="header-section-number">1.6.6</span> Creating line graphs<a href="introduction-to-r-and-rstudio.html#creating-line-graphs" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To demonstrate the graphing of aggregate data with Stata, we use the data on new cases and deaths from prostate cancer in males in NSW. This data has been entered into Stata as <code>Example_1.2.dta</code>.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="introduction-to-r-and-rstudio.html#cb40-1" aria-hidden="true" tabindex="-1"></a>cancer <span class="ot">&lt;-</span> <span class="fu">read_stata</span>(<span class="st">&quot;data/examples/Example_1.2.dta&quot;</span>)</span>
<span id="cb40-2"><a href="introduction-to-r-and-rstudio.html#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(cancer)</span></code></pre></div>
<pre><code>##       year          ncases        ndeaths           rcases         rdeaths     
##  Min.   :1987   Min.   :1567   Min.   : 645.0   Min.   : 81.8   Min.   :31.10  
##  1st Qu.:1992   1st Qu.:2804   1st Qu.: 788.2   1st Qu.:121.9   1st Qu.:34.67  
##  Median :1996   Median :3790   Median : 868.0   Median :131.3   Median :36.55  
##  Mean   :1996   Mean   :3719   Mean   : 855.0   Mean   :135.4   Mean   :37.09  
##  3rd Qu.:2001   3rd Qu.:4403   3rd Qu.: 921.0   3rd Qu.:164.2   3rd Qu.:40.38  
##  Max.   :2006   Max.   :6158   Max.   :1044.0   Max.   :186.9   Max.   :43.80</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="introduction-to-r-and-rstudio.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(cancer<span class="sc">$</span>year, cancer<span class="sc">$</span>rcases, <span class="at">type=</span><span class="st">&quot;l&quot;</span>, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;Year&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Age-standardised rate (per 100,000)&quot;</span>)</span></code></pre></div>
<p><img src="phcm9795-R-notes_files/figure-html/unnamed-chunk-38-1.png" width="672" /></p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="introduction-to-r-and-rstudio.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change scale</span></span>
<span id="cb43-2"><a href="introduction-to-r-and-rstudio.html#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(cancer<span class="sc">$</span>year, cancer<span class="sc">$</span>rcases, <span class="at">type=</span><span class="st">&quot;l&quot;</span>, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;Year&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Age-standardised rate (per 100,000)&quot;</span>, <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">200</span>))</span>
<span id="cb43-3"><a href="introduction-to-r-and-rstudio.html#cb43-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-4"><a href="introduction-to-r-and-rstudio.html#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a second line</span></span>
<span id="cb43-5"><a href="introduction-to-r-and-rstudio.html#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(cancer<span class="sc">$</span>year, cancer<span class="sc">$</span>rdeaths, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">type =</span> <span class="st">&quot;l&quot;</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb43-6"><a href="introduction-to-r-and-rstudio.html#cb43-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-7"><a href="introduction-to-r-and-rstudio.html#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a legend to the plot</span></span>
<span id="cb43-8"><a href="introduction-to-r-and-rstudio.html#cb43-8" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topleft&quot;</span>, <span class="at">legend=</span><span class="fu">c</span>(<span class="st">&quot;Incidence&quot;</span>, <span class="st">&quot;Deaths&quot;</span>),</span>
<span id="cb43-9"><a href="introduction-to-r-and-rstudio.html#cb43-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>), <span class="at">lty =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="phcm9795-R-notes_files/figure-html/unnamed-chunk-38-2.png" width="672" /></p>

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-therneau_grambsch10" class="csl-entry">
Therneau, Terry M., and Patricia M. Grambsch. 2010. <em>Modeling <span>Survival Data</span>: <span>Extending</span> the <span>Cox Model</span></em>. <span>New York Berlin Heidelberg</span>: <span>Springer</span>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="probability-and-probability-distributions-r-notes.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["phcm9795-R-notes.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
