<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 6 Summary statistics for binary data | PHCM9795 Foundations of Biostatistics</title>
  <meta name="description" content="Module 6 Summary statistics for binary data | PHCM9795 Foundations of Biostatistics" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 6 Summary statistics for binary data | PHCM9795 Foundations of Biostatistics" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 6 Summary statistics for binary data | PHCM9795 Foundations of Biostatistics" />
  
  
  

<meta name="author" content="Pilot Notes for R" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="comparing-two-means.html"/>
<link rel="next" href="hypothesis-testing-for-categorical-data.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">PHCM9795 Foundations of Biostatistics</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html"><i class="fa fa-check"></i><b>1</b> Introduction to R and RStudio</a>
<ul>
<li class="chapter" data-level="" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#learning-outcomes"><i class="fa fa-check"></i>Learning outcomes</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#part-1-an-introduction-to-r"><i class="fa fa-check"></i>Part 1: An introduction to R</a></li>
<li class="chapter" data-level="1.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#r-vs-rstudio"><i class="fa fa-check"></i><b>1.1</b> R vs RStudio</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#installing-r-and-rstudio"><i class="fa fa-check"></i><b>1.2</b> Installing R and RStudio</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#recommended-setup"><i class="fa fa-check"></i><b>1.3</b> Recommended setup</a></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#simpleR"><i class="fa fa-check"></i><b>1.4</b> A simple R analysis</a></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#the-rstudio-environment"><i class="fa fa-check"></i><b>1.5</b> The RStudio environment</a></li>
<li class="chapter" data-level="1.6" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#some-r-basics"><i class="fa fa-check"></i><b>1.6</b> Some R basics</a></li>
<li class="chapter" data-level="1.7" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#what-is-this-thing-called-the-tidyverse"><i class="fa fa-check"></i><b>1.7</b> What is this thing called the tidyverse?</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#part-2-obtaining-basic-descriptive-statistics"><i class="fa fa-check"></i>Part 2: Obtaining basic descriptive statistics</a></li>
<li class="chapter" data-level="1.8" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#set-up-your-data"><i class="fa fa-check"></i><b>1.8</b> Set up your data</a></li>
<li class="chapter" data-level="1.9" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#reading-a-data-file"><i class="fa fa-check"></i><b>1.9</b> Reading a data file</a></li>
<li class="chapter" data-level="1.10" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#summarising-continuous-variables"><i class="fa fa-check"></i><b>1.10</b> Summarising continuous variables</a></li>
<li class="chapter" data-level="1.11" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#producing-a-histogram"><i class="fa fa-check"></i><b>1.11</b> Producing a histogram</a></li>
<li class="chapter" data-level="1.12" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#producing-a-boxplot"><i class="fa fa-check"></i><b>1.12</b> Producing a boxplot</a></li>
<li class="chapter" data-level="1.13" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#producing-a-one-way-frequency-table"><i class="fa fa-check"></i><b>1.13</b> Producing a one-way frequency table</a></li>
<li class="chapter" data-level="1.14" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#producing-a-two-way-frequency-table"><i class="fa fa-check"></i><b>1.14</b> Producing a two-way frequency table</a></li>
<li class="chapter" data-level="1.15" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#saving-data-in-r"><i class="fa fa-check"></i><b>1.15</b> Saving data in R</a></li>
<li class="chapter" data-level="1.16" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#copying-output-from-r"><i class="fa fa-check"></i><b>1.16</b> Copying output from R</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#part-3-creating-other-types-of-graphs"><i class="fa fa-check"></i>Part 3: Creating other types of graphs</a></li>
<li class="chapter" data-level="1.17" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#bar-graphs"><i class="fa fa-check"></i><b>1.17</b> Bar graphs</a></li>
<li class="chapter" data-level="1.18" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#creating-line-graphs"><i class="fa fa-check"></i><b>1.18</b> Creating line graphs</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html"><i class="fa fa-check"></i><b>2</b> Probability and probability distributions</a>
<ul>
<li class="chapter" data-level="2.1" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#importing-data-into-r"><i class="fa fa-check"></i><b>2.1</b> Importing data into R</a></li>
<li class="chapter" data-level="2.2" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#checking-your-data-for-errors-in-r"><i class="fa fa-check"></i><b>2.2</b> Checking your data for errors in R</a></li>
<li class="chapter" data-level="2.3" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#overlaying-a-normal-curve-on-a-histogram"><i class="fa fa-check"></i><b>2.3</b> Overlaying a Normal curve on a histogram</a></li>
<li class="chapter" data-level="2.4" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#descriptive-statistics-for-checking-normality"><i class="fa fa-check"></i><b>2.4</b> Descriptive statistics for checking normality</a></li>
<li class="chapter" data-level="2.5" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#import-excel"><i class="fa fa-check"></i><b>2.5</b> Importing Excel data into R</a></li>
<li class="chapter" data-level="2.6" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#generating-new-variables"><i class="fa fa-check"></i><b>2.6</b> Generating new variables</a></li>
<li class="chapter" data-level="2.7" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#summarising-data-by-another-variable"><i class="fa fa-check"></i><b>2.7</b> Summarising data by another variable</a></li>
<li class="chapter" data-level="2.8" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#summarising-a-single-column-of-data"><i class="fa fa-check"></i><b>2.8</b> Summarising a single column of data</a></li>
<li class="chapter" data-level="2.9" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#plotting-data-by-another-variable"><i class="fa fa-check"></i><b>2.9</b> Plotting data by another variable</a></li>
<li class="chapter" data-level="2.10" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#recoding-data"><i class="fa fa-check"></i><b>2.10</b> Recoding data</a></li>
<li class="chapter" data-level="2.11" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#computing-binomial-probabilities-using-r"><i class="fa fa-check"></i><b>2.11</b> Computing binomial probabilities using R</a></li>
<li class="chapter" data-level="2.12" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#computing-probabilities-from-a-normal-distribution"><i class="fa fa-check"></i><b>2.12</b> Computing probabilities from a Normal distribution</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="precision-r-notes.html"><a href="precision-r-notes.html"><i class="fa fa-check"></i><b>3</b> Precision: R notes</a>
<ul>
<li class="chapter" data-level="3.1" data-path="precision-r-notes.html"><a href="precision-r-notes.html#calculating-a-95-confidence-interval-of-a-mean"><i class="fa fa-check"></i><b>3.1</b> Calculating a 95% confidence interval of a mean</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html"><i class="fa fa-check"></i><b>4</b> Hypothesis testing</a>
<ul>
<li class="chapter" data-level="4.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#one-sample-t-test"><i class="fa fa-check"></i><b>4.1</b> One sample t-test</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="comparing-two-means.html"><a href="comparing-two-means.html"><i class="fa fa-check"></i><b>5</b> Comparing two means</a>
<ul>
<li class="chapter" data-level="5.1" data-path="comparing-two-means.html"><a href="comparing-two-means.html#setting-an-observation-to-missing"><i class="fa fa-check"></i><b>5.1</b> Setting an observation to missing</a></li>
<li class="chapter" data-level="5.2" data-path="comparing-two-means.html"><a href="comparing-two-means.html#checking-data-for-the-independent-samples-t-test"><i class="fa fa-check"></i><b>5.2</b> Checking data for the independent samples t-test</a></li>
<li class="chapter" data-level="5.3" data-path="comparing-two-means.html"><a href="comparing-two-means.html#independent-samples-t-test"><i class="fa fa-check"></i><b>5.3</b> Independent samples t-test</a></li>
<li class="chapter" data-level="5.4" data-path="comparing-two-means.html"><a href="comparing-two-means.html#checking-the-assumptions-for-a-paired-t-test"><i class="fa fa-check"></i><b>5.4</b> Checking the assumptions for a Paired t-test</a></li>
<li class="chapter" data-level="5.5" data-path="comparing-two-means.html"><a href="comparing-two-means.html#paired-t-test"><i class="fa fa-check"></i><b>5.5</b> Paired t-Test</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html"><i class="fa fa-check"></i><b>6</b> Summary statistics for binary data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#confidence-intervals-for-proportions"><i class="fa fa-check"></i><b>6.1</b> 95% confidence intervals for proportions</a></li>
<li class="chapter" data-level="6.2" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#significance-test-for-single-proportion"><i class="fa fa-check"></i><b>6.2</b> Significance test for single proportion</a></li>
<li class="chapter" data-level="6.3" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#computing-a-relative-risk-and-its-95-confidence-interval"><i class="fa fa-check"></i><b>6.3</b> Computing a relative risk and its 95% confidence interval</a></li>
<li class="chapter" data-level="6.4" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#computing-a-difference-in-proportions-and-its-95-confidence-interval"><i class="fa fa-check"></i><b>6.4</b> Computing a difference in proportions and its 95% confidence interval</a></li>
<li class="chapter" data-level="6.5" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#computing-an-odds-ratio-and-its-95-confidence-interval"><i class="fa fa-check"></i><b>6.5</b> Computing an odds ratio and its 95% confidence interval</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="hypothesis-testing-for-categorical-data.html"><a href="hypothesis-testing-for-categorical-data.html"><i class="fa fa-check"></i><b>7</b> Hypothesis testing for categorical data</a>
<ul>
<li class="chapter" data-level="7.1" data-path="hypothesis-testing-for-categorical-data.html"><a href="hypothesis-testing-for-categorical-data.html#pearsons-chi-squared-test"><i class="fa fa-check"></i><b>7.1</b> Pearson’s chi-squared test</a></li>
<li class="chapter" data-level="7.2" data-path="hypothesis-testing-for-categorical-data.html"><a href="hypothesis-testing-for-categorical-data.html#chi-squared-test-for-tables-larger-than-2-by-2"><i class="fa fa-check"></i><b>7.2</b> Chi-squared test for tables larger than 2-by-2</a></li>
<li class="chapter" data-level="7.3" data-path="hypothesis-testing-for-categorical-data.html"><a href="hypothesis-testing-for-categorical-data.html#mcnemars-test-for-paired-proportions"><i class="fa fa-check"></i><b>7.3</b> McNemar’s test for paired proportions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PHCM9795 Foundations of Biostatistics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="summary-statistics-for-binary-data" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">Module 6</span> Summary statistics for binary data<a href="summary-statistics-for-binary-data.html#summary-statistics-for-binary-data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="confidence-intervals-for-proportions" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> 95% confidence intervals for proportions<a href="summary-statistics-for-binary-data.html#confidence-intervals-for-proportions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We can use the <code>BinomCI(x=, n=, method=)</code> function within the <code>DescTools</code> package to compute 95% confidence intervals for proportions. Here we specify <code>x</code>: the number of successes, <code>n</code>: the sample size, and optionally, the <code>method</code> (which defaults to Wilson’s method).</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="summary-statistics-for-binary-data.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DescTools)</span>
<span id="cb143-2"><a href="summary-statistics-for-binary-data.html#cb143-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-3"><a href="summary-statistics-for-binary-data.html#cb143-3" aria-hidden="true" tabindex="-1"></a><span class="fu">BinomCI</span>(<span class="at">x=</span><span class="dv">47</span>, <span class="at">n=</span><span class="dv">215</span>, <span class="at">method=</span><span class="st">&#39;wald&#39;</span>)</span></code></pre></div>
<pre><code>##            est    lwr.ci    upr.ci
## [1,] 0.2186047 0.1633595 0.2738498</code></pre>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="summary-statistics-for-binary-data.html#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">BinomCI</span>(<span class="at">x=</span><span class="dv">47</span>, <span class="at">n=</span><span class="dv">215</span>, <span class="at">method=</span><span class="st">&#39;wilson&#39;</span>)</span></code></pre></div>
<pre><code>##            est    lwr.ci    upr.ci
## [1,] 0.2186047 0.1685637 0.2785246</code></pre>
</div>
<div id="significance-test-for-single-proportion" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Significance test for single proportion<a href="summary-statistics-for-binary-data.html#significance-test-for-single-proportion" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We can use the <code>binom.test</code> function to perform a significance test for a single proportion: <code>binom.test(x=, n=, p=)</code>. Here we specify <code>x</code>: the number of successes, <code>n</code>: the sample size, and <code>p</code>: the hypothesised proportion (which defaults to 0.5 if nothing is entered).</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="summary-statistics-for-binary-data.html#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="fu">binom.test</span>(<span class="at">x=</span><span class="dv">54</span>, <span class="at">n=</span><span class="dv">300</span>, <span class="at">p=</span><span class="fl">0.2</span>)</span></code></pre></div>
<pre><code>## 
##  Exact binomial test
## 
## data:  54 and 300
## number of successes = 54, number of trials = 300, p-value = 0.4273
## alternative hypothesis: true probability of success is not equal to 0.2
## 95 percent confidence interval:
##  0.1382104 0.2282394
## sample estimates:
## probability of success 
##                   0.18</code></pre>
<p>Note that the <code>binom.test</code> function also produces a 95% confidence interval around the estimated proportion. This confidence interval is based on the inferior Wald method: <em>the confidence interval derived from the Wilson method is preferred</em>.</p>
</div>
<div id="computing-a-relative-risk-and-its-95-confidence-interval" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Computing a relative risk and its 95% confidence interval<a href="summary-statistics-for-binary-data.html#computing-a-relative-risk-and-its-95-confidence-interval" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We will use Worked Example 6.4 to demonstrate calculating a relative risk and its 95% CI:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="summary-statistics-for-binary-data.html#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jmv)</span>
<span id="cb149-2"><a href="summary-statistics-for-binary-data.html#cb149-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-3"><a href="summary-statistics-for-binary-data.html#cb149-3" aria-hidden="true" tabindex="-1"></a>drug <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;data/examples/Example_6.4.rds&quot;</span>)</span>
<span id="cb149-4"><a href="summary-statistics-for-binary-data.html#cb149-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-5"><a href="summary-statistics-for-binary-data.html#cb149-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(drug)</span></code></pre></div>
<pre><code>##      group       side_effect
##  Placebo:50   No nausea:81  
##  Active :50   Nausea   :19</code></pre>
<p>By using the <code>head()</code> function to view the first six lines of data, we see that both <code>group</code> and <code>side_effect</code> have been entered as factors. Notice the order in which the factor levels are presented: <code>group</code> has the <code>Placebo</code> level defined as the first level, and the <code>Active</code> level defined as the second; <code>side_effect</code> has <code>No nausea</code> defined as the first level, and the <code>Nausea</code> level defined as the second.</p>
<p>We will use <code>jmv</code> to calculate relative risks, odds ratios and risk differences. To calculate these estimates correctly, <strong>we must define the positive exposure and positive outcome to be the first level of a factor</strong>. When defining an exposure for example, we should define the active treatment or the positive exposure as the first category. When defining an outcome, we should define the category of interest (e.g. disease, or side effect) as the first category.</p>
<p>In this example, we will define <code>Active</code> as the first level in the <code>group</code> factor, and <code>Nausea</code> to be the first level of the <code>side_effect</code> factor.</p>
<p>We can do this using the <code>relevel()</code> function, which re-orders the levels of a factor so that the level specified is defined as the first level, and the others are moved down:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="summary-statistics-for-binary-data.html#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define &quot;Active&quot; as the first level of group:</span></span>
<span id="cb151-2"><a href="summary-statistics-for-binary-data.html#cb151-2" aria-hidden="true" tabindex="-1"></a>drug<span class="sc">$</span>group <span class="ot">&lt;-</span> <span class="fu">relevel</span>(drug<span class="sc">$</span>group, <span class="at">ref=</span><span class="st">&quot;Active&quot;</span>)</span>
<span id="cb151-3"><a href="summary-statistics-for-binary-data.html#cb151-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-4"><a href="summary-statistics-for-binary-data.html#cb151-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-5"><a href="summary-statistics-for-binary-data.html#cb151-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Define &quot;Nausea&quot; as the first level of side_effect:</span></span>
<span id="cb151-6"><a href="summary-statistics-for-binary-data.html#cb151-6" aria-hidden="true" tabindex="-1"></a>drug<span class="sc">$</span>side_effect <span class="ot">&lt;-</span> <span class="fu">relevel</span>(drug<span class="sc">$</span>side_effect, <span class="at">ref=</span><span class="st">&quot;Nausea&quot;</span>)</span></code></pre></div>
<p>Upon re-leveling the factors, we can check that the levels of interest have been defined as the first levels:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="summary-statistics-for-binary-data.html#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(drug)</span></code></pre></div>
<pre><code>##      group       side_effect
##  Active :50   Nausea   :19  
##  Placebo:50   No nausea:81</code></pre>
<p>To construct the 2-by-2 table and calculate a relative risk, we use the <code>contTables()</code> function in <code>jmv</code>. We request the row-percents using <code>pcRow = TRUE</code> and the relative risk and confidence interval using <code>relRisk = TRUE</code>:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="summary-statistics-for-binary-data.html#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">contTables</span>(<span class="at">data=</span>drug, </span>
<span id="cb154-2"><a href="summary-statistics-for-binary-data.html#cb154-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">rows=</span>group, <span class="at">cols=</span>side_effect, </span>
<span id="cb154-3"><a href="summary-statistics-for-binary-data.html#cb154-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">pcRow=</span><span class="cn">TRUE</span>, <span class="at">relRisk =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## 
##  CONTINGENCY TABLES
## 
##  Contingency Tables                                                 
##  ────────────────────────────────────────────────────────────────── 
##    group                      Nausea       No nausea    Total       
##  ────────────────────────────────────────────────────────────────── 
##    Active     Observed               15           35           50   
##               % within row     30.00000     70.00000    100.00000   
##                                                                     
##    Placebo    Observed                4           46           50   
##               % within row      8.00000     92.00000    100.00000   
##                                                                     
##    Total      Observed               19           81          100   
##               % within row     19.00000     81.00000    100.00000   
##  ────────────────────────────────────────────────────────────────── 
## 
## 
##  χ² Tests                              
##  ───────────────────────────────────── 
##          Value       df    p           
##  ───────────────────────────────────── 
##    χ²    7.862248     1    0.0050478   
##    N          100                      
##  ───────────────────────────────────── 
## 
## 
##  Comparative Measures                                    
##  ─────────────────────────────────────────────────────── 
##                     Value         Lower       Upper      
##  ─────────────────────────────────────────────────────── 
##    Relative risk    3.750000 ᵃ    1.337540    10.51370   
##  ─────────────────────────────────────────────────────── 
##    ᵃ Rows compared</code></pre>
<p>If you only have the cross-tabulated data (i.e. aggregated), you will need to enter your data into a new data frame. For example, to recreate the above analyses, we can re-write the 2-by-2 table as follows:</p>
<table>
<thead>
<tr class="header">
<th align="center">Group</th>
<th align="center">side_effect</th>
<th align="center">Number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">Active</td>
<td align="center">Nausea</td>
<td align="center">15</td>
</tr>
<tr class="even">
<td align="center">Active</td>
<td align="center">No nausea</td>
<td align="center">35</td>
</tr>
<tr class="odd">
<td align="center">Placebo</td>
<td align="center">Nausea</td>
<td align="center">4</td>
</tr>
<tr class="even">
<td align="center">Placebo</td>
<td align="center">No nausea</td>
<td align="center">46</td>
</tr>
</tbody>
</table>
<p>We can enter these data in a dataframe, comprising three vectors, as follows:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="summary-statistics-for-binary-data.html#cb156-1" aria-hidden="true" tabindex="-1"></a>drug_aggregated <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb156-2"><a href="summary-statistics-for-binary-data.html#cb156-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">group =</span> <span class="fu">c</span>(<span class="st">&quot;Active&quot;</span>, <span class="st">&quot;Active&quot;</span>, <span class="st">&quot;Placebo&quot;</span>, <span class="st">&quot;Placebo&quot;</span>),</span>
<span id="cb156-3"><a href="summary-statistics-for-binary-data.html#cb156-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">side_effect =</span> <span class="fu">c</span>(<span class="st">&quot;Nausea&quot;</span>, <span class="st">&quot;No nausea&quot;</span>, <span class="st">&quot;Nausea&quot;</span>, <span class="st">&quot;No nausea&quot;</span>),</span>
<span id="cb156-4"><a href="summary-statistics-for-binary-data.html#cb156-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">35</span>, <span class="dv">4</span>, <span class="dv">46</span>)</span>
<span id="cb156-5"><a href="summary-statistics-for-binary-data.html#cb156-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>We need to define group and side_effect as factors. Here we must define the <code>levels</code> <strong>in the order we want the categories to appear in the table</strong>. Note that as group and side_effect are entered as text variables, we can omit <code>labels</code> command when defining the factors, and the factor will be labelled using the text entry:</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="summary-statistics-for-binary-data.html#cb157-1" aria-hidden="true" tabindex="-1"></a>drug_aggregated<span class="sc">$</span>group <span class="ot">&lt;-</span> <span class="fu">factor</span>(drug_aggregated<span class="sc">$</span>group, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">&quot;Active&quot;</span>, <span class="st">&quot;Placebo&quot;</span>))</span>
<span id="cb157-2"><a href="summary-statistics-for-binary-data.html#cb157-2" aria-hidden="true" tabindex="-1"></a>drug_aggregated<span class="sc">$</span>side_effect <span class="ot">&lt;-</span> <span class="fu">factor</span>(drug_aggregated<span class="sc">$</span>side_effect, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">&quot;Nausea&quot;</span>, <span class="st">&quot;No nausea&quot;</span>))</span></code></pre></div>
<p>We can calculate the relative risk using the summarised data in the same was done previously. However, we need to include the number of observations in each cell using the <code>counts</code> command:</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="summary-statistics-for-binary-data.html#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="fu">contTables</span>(<span class="at">data=</span>drug_aggregated,</span>
<span id="cb158-2"><a href="summary-statistics-for-binary-data.html#cb158-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">rows=</span>group, <span class="at">cols=</span>side_effect, <span class="at">count=</span>n,</span>
<span id="cb158-3"><a href="summary-statistics-for-binary-data.html#cb158-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">pcRow=</span><span class="cn">TRUE</span>, <span class="at">relRisk =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## 
##  CONTINGENCY TABLES
## 
##  Contingency Tables                                                 
##  ────────────────────────────────────────────────────────────────── 
##    group                      Nausea       No nausea    Total       
##  ────────────────────────────────────────────────────────────────── 
##    Active     Observed               15           35           50   
##               % within row     30.00000     70.00000    100.00000   
##                                                                     
##    Placebo    Observed                4           46           50   
##               % within row      8.00000     92.00000    100.00000   
##                                                                     
##    Total      Observed               19           81          100   
##               % within row     19.00000     81.00000    100.00000   
##  ────────────────────────────────────────────────────────────────── 
## 
## 
##  χ² Tests                              
##  ───────────────────────────────────── 
##          Value       df    p           
##  ───────────────────────────────────── 
##    χ²    7.862248     1    0.0050478   
##    N          100                      
##  ───────────────────────────────────── 
## 
## 
##  Comparative Measures                                    
##  ─────────────────────────────────────────────────────── 
##                     Value         Lower       Upper      
##  ─────────────────────────────────────────────────────── 
##    Relative risk    3.750000 ᵃ    1.337540    10.51370   
##  ─────────────────────────────────────────────────────── 
##    ᵃ Rows compared</code></pre>
</div>
<div id="computing-a-difference-in-proportions-and-its-95-confidence-interval" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> Computing a difference in proportions and its 95% confidence interval<a href="summary-statistics-for-binary-data.html#computing-a-difference-in-proportions-and-its-95-confidence-interval" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We can use the <code>contTables</code> function to obtain a difference in proportions and its 95% CI, by specifying <code>diffProp=TRUE</code>:</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="summary-statistics-for-binary-data.html#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="fu">contTables</span>(<span class="at">data=</span>drug, </span>
<span id="cb160-2"><a href="summary-statistics-for-binary-data.html#cb160-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">rows=</span>group, <span class="at">cols=</span>side_effect, </span>
<span id="cb160-3"><a href="summary-statistics-for-binary-data.html#cb160-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">pcRow=</span><span class="cn">TRUE</span>, <span class="at">diffProp=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## 
##  CONTINGENCY TABLES
## 
##  Contingency Tables                                                 
##  ────────────────────────────────────────────────────────────────── 
##    group                      Nausea       No nausea    Total       
##  ────────────────────────────────────────────────────────────────── 
##    Active     Observed               15           35           50   
##               % within row     30.00000     70.00000    100.00000   
##                                                                     
##    Placebo    Observed                4           46           50   
##               % within row      8.00000     92.00000    100.00000   
##                                                                     
##    Total      Observed               19           81          100   
##               % within row     19.00000     81.00000    100.00000   
##  ────────────────────────────────────────────────────────────────── 
## 
## 
##  χ² Tests                              
##  ───────────────────────────────────── 
##          Value       df    p           
##  ───────────────────────────────────── 
##    χ²    7.862248     1    0.0050478   
##    N          100                      
##  ───────────────────────────────────── 
## 
## 
##  Comparative Measures                                                      
##  ───────────────────────────────────────────────────────────────────────── 
##                                   Value          Lower         Upper       
##  ───────────────────────────────────────────────────────────────────────── 
##    Difference in 2 proportions    0.2200000 ᵃ    0.07238986    0.3676101   
##  ───────────────────────────────────────────────────────────────────────── 
##    ᵃ Rows compared</code></pre>
</div>
<div id="computing-an-odds-ratio-and-its-95-confidence-interval" class="section level2 hasAnchor" number="6.5">
<h2><span class="header-section-number">6.5</span> Computing an odds ratio and its 95% confidence interval<a href="summary-statistics-for-binary-data.html#computing-an-odds-ratio-and-its-95-confidence-interval" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We can use the <code>contTables</code> function to obtain an odds ratio and its 95% CI, by specifying <code>odds=TRUE</code>. Here we will use the summarised HPV data from Module 6.</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="summary-statistics-for-binary-data.html#cb162-1" aria-hidden="true" tabindex="-1"></a>hpv <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb162-2"><a href="summary-statistics-for-binary-data.html#cb162-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">hpv =</span> <span class="fu">c</span>(<span class="st">&quot;HPV +&quot;</span>, <span class="st">&quot;HPV +&quot;</span>, <span class="st">&quot;HPV -&quot;</span>, <span class="st">&quot;HPV -&quot;</span>),</span>
<span id="cb162-3"><a href="summary-statistics-for-binary-data.html#cb162-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">cancer =</span> <span class="fu">c</span>(<span class="st">&quot;Case&quot;</span>, <span class="st">&quot;Control&quot;</span>, <span class="st">&quot;Case&quot;</span>, <span class="st">&quot;Control&quot;</span>),</span>
<span id="cb162-4"><a href="summary-statistics-for-binary-data.html#cb162-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="fu">c</span>(<span class="dv">57</span>, <span class="dv">14</span>, <span class="dv">43</span>, <span class="dv">186</span>)</span>
<span id="cb162-5"><a href="summary-statistics-for-binary-data.html#cb162-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb162-6"><a href="summary-statistics-for-binary-data.html#cb162-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb162-7"><a href="summary-statistics-for-binary-data.html#cb162-7" aria-hidden="true" tabindex="-1"></a>hpv<span class="sc">$</span>cancer <span class="ot">&lt;-</span> <span class="fu">factor</span>(hpv<span class="sc">$</span>cancer, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">&quot;Case&quot;</span>, <span class="st">&quot;Control&quot;</span>))</span>
<span id="cb162-8"><a href="summary-statistics-for-binary-data.html#cb162-8" aria-hidden="true" tabindex="-1"></a>hpv<span class="sc">$</span>hpv <span class="ot">&lt;-</span> <span class="fu">factor</span>(hpv<span class="sc">$</span>hpv, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">&quot;HPV +&quot;</span>, <span class="st">&quot;HPV -&quot;</span>))</span>
<span id="cb162-9"><a href="summary-statistics-for-binary-data.html#cb162-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb162-10"><a href="summary-statistics-for-binary-data.html#cb162-10" aria-hidden="true" tabindex="-1"></a><span class="fu">contTables</span>(<span class="at">data=</span>hpv, </span>
<span id="cb162-11"><a href="summary-statistics-for-binary-data.html#cb162-11" aria-hidden="true" tabindex="-1"></a>           <span class="at">rows=</span>hpv, <span class="at">cols=</span>cancer, <span class="at">count=</span>n,</span>
<span id="cb162-12"><a href="summary-statistics-for-binary-data.html#cb162-12" aria-hidden="true" tabindex="-1"></a>           <span class="at">odds =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## 
##  CONTINGENCY TABLES
## 
##  Contingency Tables                    
##  ───────────────────────────────────── 
##    hpv      Case    Control    Total   
##  ───────────────────────────────────── 
##    HPV +      57         14       71   
##    HPV -      43        186      229   
##    Total     100        200      300   
##  ───────────────────────────────────── 
## 
## 
##  χ² Tests                               
##  ────────────────────────────────────── 
##          Value       df    p            
##  ────────────────────────────────────── 
##    χ²    92.25660     1    &lt; .0000001   
##    N          300                       
##  ────────────────────────────────────── 
## 
## 
##  Comparative Measures                               
##  ────────────────────────────────────────────────── 
##                  Value       Lower       Upper      
##  ────────────────────────────────────────────────── 
##    Odds ratio    17.61130    8.992580    34.49041   
##  ──────────────────────────────────────────────────</code></pre>
<p>Note that 95% confidence intervals for the odds ratio based on <code>jmv</code> may differ from those calculated by Stata. At this stage, the method used by <code>jmv</code> to calculate the confidence interval is not documented.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="comparing-two-means.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="hypothesis-testing-for-categorical-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["phcm9795-R-notes.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
